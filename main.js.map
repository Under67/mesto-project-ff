{"version":3,"file":"main.js","mappings":"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","sources":["webpack://mesto-project-ff/webpack/bootstrap","webpack://mesto-project-ff/webpack/runtime/define property getters","webpack://mesto-project-ff/webpack/runtime/hasOwnProperty shorthand","webpack://mesto-project-ff/./src/scripts/components.js","webpack://mesto-project-ff/./src/scripts/modal.js","webpack://mesto-project-ff/./src/scripts/additional.js","webpack://mesto-project-ff/./src/scripts/api.js","webpack://mesto-project-ff/./src/scripts/card.js","webpack://mesto-project-ff/./src/scripts/validation.js","webpack://mesto-project-ff/./src/scripts/index.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","const profileEdit = document.querySelector('.profile__edit-button');\r\nconst popupEdit = document.querySelector('.popup_type_edit');\r\nconst popupAvatar = document.querySelector('.popup_type_edit-avatar')\r\nconst popups = document.querySelectorAll('.popup');\r\nconst profileAddCard = document.querySelector('.profile__add-button');\r\nconst popupCard = document.querySelector('.popup_type_new-card');\r\nconst popupPic = document.querySelector('.popup__image');\r\nconst popupImg = document.querySelector('.popup_type_image');\r\nconst popupCaption = document.querySelector('.popup__caption')\r\nconst formProfile = document.forms['edit-profile'];\r\nconst inputName = formProfile.name;\r\nconst inputDescription = formProfile.description;\r\nconst profileTitle = document.querySelector('.profile__title');\r\nconst profileDescription = document.querySelector('.profile__description');\r\nconst profileImage = document.querySelector('.profile__image');\r\nconst formCard = document.forms['new-place'];\r\nconst inputCardName = formCard['place-name'];\r\nconst inputCardLink = formCard.link;\r\nconst formAvatar = document.forms.avatar;\r\nconst inputAvatar = formAvatar.link;\r\n\r\nexport {profileEdit, popupEdit, popups, profileAddCard, popupCard, popupImg, popupPic, popupCaption, inputName, inputDescription, profileTitle, profileDescription, formProfile, formCard, inputCardName, inputCardLink, profileImage, popupAvatar, formAvatar, inputAvatar }","function openModal(item) {\r\n  item.classList.add('popup_is-animated');\r\n  setTimeout(() => {\r\n    item.classList.add(\"popup_is-opened\");  \r\n  }, 1); \r\n  document.addEventListener('keydown', handleEscPress);\r\n}\r\n\r\nfunction handleEscPress(evt) {\r\n  if(evt.key === 'Escape') {\r\n    const popup = document.querySelector('.popup_is-opened');\r\n    closeModal(popup);\r\n  }\r\n}\r\n\r\nfunction closeModal(item) {\r\n  item.classList.remove('popup_is-opened');\r\n  document.removeEventListener('keydown', handleEscPress);\r\n}\r\n\r\nexport {openModal, closeModal}","import { closeModal } from \"./modal.js\";\r\n\r\nfunction checkResponse(res) {\r\n  if (res.ok) {\r\n    return res.json();\r\n  }\r\n  return Promise.reject(`Ошибка: ${res.status}`);\r\n}\r\n\r\nfunction handleSubmit(request, evt) {\r\n    const button = evt.submitter;\r\n    evt.submitter.textContent = 'Сохранить...';\r\n    button.disabled = false;\r\n    button.classList.remove('popup__button_disabled');\r\n    evt.preventDefault()\r\n\r\n  request()\r\n    .then(() => {\r\n      button.disabled = true;\r\n    })\r\n    .catch((err) => {\r\n      console.error(`Ошибка: ${err}`);\r\n    })\r\n    .finally(() => {\r\n      evt.submitter.textContent = 'Сохранить';\r\n      closeModal(evt.target.closest('.popup'))\r\n    })\r\n}\r\n\r\nexport {checkResponse, handleSubmit}","import { checkResponse, handleSubmit } from \"./additional.js\";\r\n\r\nconst config = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/wff-cohort-38',\r\n  headers: {\r\n    authorization: 'a04ecdbf-246a-4f34-8cd7-a30ee351ba0c',\r\n    'Content-Type': 'application/json'\r\n  }\r\n}\r\n\r\nfunction request(url, options) {\r\n  return fetch(`${config.baseUrl}` + url, options);\r\n}\r\n\r\nfunction getInfoProfile() {\r\n  return request('/users/me', { headers : config.headers })\r\n  .then(checkResponse);\r\n}\r\n\r\nfunction getInitialCards() {\r\n  return request('/cards', { headers : config.headers })\r\n  .then(checkResponse);\r\n}\r\n\r\nfunction patchUserProfile(profileName, profileAbout) {\r\n  return request('/users/me', {\r\n    method : 'PATCH',\r\n    headers : config.headers,\r\n    body : JSON.stringify({\r\n      name: profileName,\r\n      about: profileAbout\r\n    })\r\n  })\r\n  .then(checkResponse)\r\n}\r\n\r\nfunction postCard(cardName, cardLink) {\r\n  return request('/cards', {\r\n    method : 'POST',\r\n    headers : config.headers,\r\n    body : JSON.stringify({\r\n      name : cardName,\r\n      link : cardLink\r\n    })\r\n  })\r\n  .then(checkResponse)\r\n}\r\n\r\nfunction deleteCard(cardId) {\r\n  return request('/cards' + `/${cardId}`, {\r\n    method : 'DELETE',\r\n    headers : config.headers,\r\n  })\r\n  .then(checkResponse)\r\n}\r\n\r\nfunction setLikeCard (cardId) {\r\n  return request('/cards/likes' + `/${cardId}`, {\r\n    method : 'PUT',\r\n    headers : config.headers,\r\n  })\r\n  .then(checkResponse)\r\n}\r\n\r\nfunction deleteLikeCard (cardId) {\r\n  return request('/cards/likes' + `/${cardId}`, {\r\n    method : 'DELETE',\r\n    headers : config.headers,\r\n  })\r\n  .then(checkResponse)\r\n}\r\n\r\nfunction postAvatar (pic) {\r\n  return request('/users/me/avatar', {\r\n    method : 'PATCH',\r\n    headers : config.headers,\r\n    body : JSON.stringify({\r\n      avatar : pic\r\n    })\r\n  })\r\n  .then(checkResponse)\r\n}\r\n\r\n\r\n\r\nexport {patchUserProfile, getInitialCards, getInfoProfile, postCard, deleteCard, setLikeCard, deleteLikeCard, postAvatar}","import { userId } from \"./index\";\r\nimport { deleteCard, deleteLikeCard, setLikeCard} from \"./api\";\r\n\r\nconst cardTemplate = document.querySelector('#card-template').content;\r\nconst placesList= document.querySelector('.places__list');\r\n\r\nfunction createCard(card, removeCard, handleImageClick, likeCard) {\r\n  const cloneCard = cardTemplate.querySelector('.card').cloneNode(true);\r\n  const cardDeleteButton = cloneCard.querySelector('.card__delete-button');\r\n  const cardImg = cloneCard.querySelector('.card__image');\r\n  const cardTitle = cloneCard.querySelector('.card__title');\r\n  const cardLike = cloneCard.querySelector('.card__like-button');\r\n  const cardLikeCount = cloneCard.querySelector('.card__like-count');\r\n  cardImg.setAttribute('alt', card.name);\r\n  cardImg.setAttribute('src', card.link);\r\n  cardTitle.textContent = card.name;\r\n  cardLikeCount.textContent = card.likes.length;\r\n  card.likes.forEach(function(elem) {\r\n    if (elem['_id'] === userId) {\r\n      return likeCard(cardLike);\r\n    }\r\n  })\r\n  cardImg.addEventListener('click', function() {\r\n    return handleImageClick(card.name, card.link);\r\n  });\r\n  cardLike.addEventListener('click', function () {\r\n    if (cardLike.classList.contains('card__like-button_is-active')) {\r\n      deleteLikeCard(card['_id'])\r\n      .then((card) => cardLikeCount.textContent = card.likes.length);\r\n    } else {\r\n      setLikeCard(card['_id'])\r\n      .then((card) => cardLikeCount.textContent = card.likes.length);\r\n    }\r\n    cardLikeCount.textContent = card.likes.length;\r\n    return likeCard(cardLike);\r\n  })\r\n    if (card.owner['_id'] === userId) {\r\n      cardDeleteButton.addEventListener('click', function() {\r\n      deleteCard(card['_id']); \r\n      return removeCard(cloneCard);\r\n      })\r\n    } else {\r\n      cardDeleteButton.remove();\r\n    };\r\n  return cloneCard;\r\n}\r\n \r\nfunction removeCard (cloneCard) {\r\n  cloneCard.remove();\r\n}\r\n\r\nfunction likeCard(cardLike) {\r\n  cardLike.classList.toggle('card__like-button_is-active');\r\n}\r\n\r\nexport {placesList, createCard, removeCard, likeCard};","function showInputError(validationConfig, formElement, inputElement, errorMessage) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.add(validationConfig.errorClass);\r\n  errorElement.textContent = errorMessage;\r\n  errorElement.classList.add(validationConfig.inputErrorClass)\r\n}\r\n\r\nfunction hideInputError(validationConfig, formElement, inputElement) {\r\n  const errorElement = formElement.querySelector(`.${inputElement.id}-error`);\r\n  inputElement.classList.remove(validationConfig.errorClass);\r\n  errorElement.classList.remove(validationConfig.inputErrorClass);\r\n  errorElement.textContent = '';\r\n\r\n}\r\n\r\nfunction isValid(validationConfig, formElement, inputElement) {\r\n  if (inputElement.validity.patternMismatch) {\r\n    inputElement.setCustomValidity(inputElement.dataset.errorMessage);\r\n  } else {\r\n    inputElement.setCustomValidity(\"\");\r\n  }\r\n  if (!inputElement.validity.valid) {\r\n    showInputError(validationConfig,formElement, inputElement, inputElement.validationMessage);\r\n  } else {\r\n    hideInputError(validationConfig, formElement, inputElement);\r\n  }\r\n}\r\n\r\nfunction setEventListeners(validationConfig, formElement) {\r\n  const inputList = Array.from(formElement.querySelectorAll(validationConfig.inputSelector));\r\n  const buttonElement = formElement.querySelector(validationConfig.submitButtonSelector);\r\n  toggleButtonState(validationConfig, inputList, buttonElement);\r\n  inputList.forEach((inputElement) => {\r\n    inputElement.addEventListener('input', () => {\r\n      isValid(validationConfig, formElement, inputElement)\r\n      toggleButtonState(validationConfig, inputList, buttonElement);\r\n    });\r\n  });\r\n}\r\n\r\nfunction enableValidation(validationConfig) {\r\n  const formList = Array.from(document.querySelectorAll(validationConfig.formSelector));\r\n  formList.forEach((formElement) => {\r\n    setEventListeners(validationConfig, formElement);\r\n  });\r\n}\r\n\r\nfunction hasInvalidInput(inputList) {\r\n  return inputList.some((inputElement) => {\r\n    return !inputElement.validity.valid;\r\n  })\r\n}; \r\n\r\nfunction toggleButtonState(validationConfig, inputList, buttonElement) {\r\n  if (hasInvalidInput(inputList)) {\r\n    buttonElement.disabled = true;\r\n    buttonElement.classList.add(validationConfig.inactiveButtonClass);\r\n  } else {\r\n    buttonElement.disabled = false;\r\n    buttonElement.classList.remove(validationConfig.inactiveButtonClass);\r\n  }\r\n}\r\n\r\nfunction clearValidation(validationConfig, formElement) { \r\n  const inputList = Array.from(formElement.querySelectorAll(validationConfig.inputSelector));\r\n  inputList.forEach((inputElement) => {\r\n    hideInputError(validationConfig, formElement, inputElement);\r\n  })\r\n}\r\n\r\nconst validationConfig = {\r\n  formSelector: '.popup__form',\r\n  inputSelector: '.popup__input',\r\n  submitButtonSelector: '.popup__button',\r\n  inactiveButtonClass: 'popup__button_disabled',\r\n  inputErrorClass: 'popup__input_type_error',\r\n  errorClass: 'popup__error_visible'\r\n}; \r\n\r\nexport {clearValidation, enableValidation, validationConfig}","import '../pages/index.css';\r\nimport * as component from './components.js'\r\nimport {openModal, closeModal} from './modal.js'\r\nimport {placesList, createCard, removeCard, likeCard} from './card.js';\r\nimport {enableValidation, clearValidation, validationConfig} from './validation.js'\r\nimport {getInfoProfile, getInitialCards, patchUserProfile, postCard, postAvatar} from './api.js';\r\nimport { handleSubmit } from './additional.js';\r\n\r\nexport let userId;\r\n\r\ncomponent.profileEdit.addEventListener('click', function() {\r\n  openModal(component.popupEdit);\r\n  clearValidation(validationConfig, component.formProfile);\r\n  component.inputName.value = component.profileTitle.textContent;\r\n  component.inputDescription.value = component.profileDescription.textContent;\r\n});\r\n\r\ncomponent.profileAddCard.addEventListener('click', function() {\r\n  openModal(component.popupCard);\r\n  clearValidation(validationConfig, component.formCard);\r\n});\r\n\r\ncomponent.profileImage.addEventListener('click', function() {\r\n  openModal(component.popupAvatar);\r\n  clearValidation(validationConfig, component.formAvatar);\r\n})\r\n\r\ncomponent.popups.forEach(function(popup) {\r\n  popup.addEventListener('click', function(evt) {\r\n    if (evt.target.classList.contains('popup_is-opened')) {\r\n      closeModal(popup);\r\n    } \r\n    if (evt.target.classList.contains('popup__close')) {\r\n      closeModal(popup);\r\n    }\r\n  });\r\n});\r\n\r\ncomponent.formProfile.addEventListener('submit', function(evt) {\r\n  function request() {\r\n    return patchUserProfile(component.inputName.value, component.inputDescription.value)\r\n  .then((card) => {\r\n    component.profileTitle.textContent = card.name;\r\n    component.profileDescription.textContent = card.about;\r\n    });\r\n  }\r\n  handleSubmit(request,evt);\r\n})\r\n\r\ncomponent.formAvatar.addEventListener('submit', function(evt) {\r\n  function request() {\r\n    return postAvatar(component.inputAvatar.value)\r\n  .then((profile) => component.profileImage.style.backgroundImage = `url(${profile.avatar})`);\r\n  }\r\n  handleSubmit(request, evt);\r\n  component.formAvatar.reset();\r\n})\r\n\r\ncomponent.formCard.addEventListener('submit', function(evt) {\r\n  function request() {\r\n    return postCard(component.inputCardName.value, component.inputCardLink.value)\r\n  .then((card) => {\r\n    const newCard = createCard(card, removeCard, handleImageClick, likeCard);\r\n    placesList.prepend(newCard);\r\n    });\r\n  }\r\n  handleSubmit(request, evt);\r\n  component.formCard.reset();\r\n});\r\n\r\nfunction handleImageClick(name, link) {\r\n  component.popupPic.src = link;\r\n  component.popupPic.alt = name;\r\n  component.popupCaption.textContent = name;\r\n  openModal(component.popupImg);\r\n};\r\n\r\nenableValidation(validationConfig); \r\n\r\nPromise.all([getInfoProfile(), getInitialCards()]) \r\n  .then(([profile, cards]) => {\r\n    component.profileTitle.textContent = profile.name;\r\n    component.profileDescription.textContent = profile.about;\r\n    component.profileImage.setAttribute('style', `background-image: url(${profile.avatar})`);\r\n    userId = profile['_id'];\r\n    cards.forEach(function(item) {\r\n      const cloneCard = createCard(item, removeCard, handleImageClick, likeCard);\r\n      placesList.append(cloneCard);\r\n    }); \r\n\r\n  })\r\n"],"names":["__webpack_require__","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","profileEdit","document","querySelector","popupEdit","popupAvatar","popups","querySelectorAll","profileAddCard","popupCard","popupPic","popupImg","popupCaption","formProfile","forms","inputName","name","inputDescription","description","profileTitle","profileDescription","profileImage","formCard","inputCardName","inputCardLink","link","formAvatar","avatar","inputAvatar","openModal","item","classList","add","setTimeout","addEventListener","handleEscPress","evt","closeModal","remove","removeEventListener","checkResponse","res","ok","json","Promise","reject","concat","status","handleSubmit","request","button","submitter","textContent","disabled","preventDefault","then","catch","err","console","error","finally","target","closest","config","baseUrl","headers","authorization","url","options","fetch","cardTemplate","content","placesList","createCard","card","removeCard","handleImageClick","likeCard","cloneCard","cloneNode","cardDeleteButton","cardImg","cardTitle","cardLike","cardLikeCount","setAttribute","likes","length","forEach","elem","userId","cardId","contains","method","setLikeCard","owner","toggle","hideInputError","validationConfig","formElement","inputElement","errorElement","id","errorClass","inputErrorClass","toggleButtonState","inputList","buttonElement","some","validity","valid","hasInvalidInput","inactiveButtonClass","clearValidation","Array","from","inputSelector","formSelector","submitButtonSelector","component","src","alt","value","popup","profileName","profileAbout","body","JSON","stringify","about","pic","profile","style","backgroundImage","reset","cardName","cardLink","newCard","prepend","patternMismatch","setCustomValidity","dataset","errorMessage","showInputError","validationMessage","isValid","setEventListeners","enableValidation","all","_ref","_ref2","cards","append"],"sourceRoot":""}